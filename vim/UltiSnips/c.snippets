# From https://github.com/honza/vim-snippets/blob/master/UltiSnips/c.snippets
snippet guard "Include guard"
#ifndef ${1:`!p
if not snip.c:
	import random, string
	name = re.sub(r'[^A-Za-z0-9]+','_', snip.fn).upper()
	rand = ''.join(random.sample(string.ascii_letters+string.digits, 8))
	snip.rv = ('%s_%s' % (name,rand)).upper()
else:
	snip.rv = snip.c`}
#define $1

${VISUAL}${0}

#endif // $1
endsnippet

# vim: tw=90 ts=3 sts=-1 sw=0 noet
