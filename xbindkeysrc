# XBindKeys(1) configuration (window manager-agnostic multimedia keys setup)
#
# See [Xbindkeys][1], [Extra keyboard keys][1] and [Extra keyboard keys in Xorg][2] in the
# ArchWiki.  `xbindkeys --defaults` prints a default configuration file.
# [1]: https://wiki.archlinux.org/index.php/Xbindkeys;
# [2]: https://wiki.archlinux.org/index.php/Extra_keyboard_keys
# [3]: https://wiki.archlinux.org/index.php/Extra_keyboard_keys_in_Xorg

"amixer -q set Master toggle"
   XF86AudioMute

"amixer -q set PCM playback 2dB-"
   XF86AudioLowerVolume

"amixer -q set PCM playback 2dB+"
   XF86AudioRaiseVolume

"mpc next"
   XF86AudioNext

"mpc toggle"
   XF86AudioPlay

"mpc prev"
   XF86AudioPrev

# Switch to or start Mutt (only switches the screen session's active window but doesn't
# try to focus the terminal that screen is attached to; TODO?).  We need to start it in an
# interactive shell (`bash -ic ...`) because Mutt gets my password by invoking `pass`,
# which eventually results in `pinentry-curses` being used to create the dialog asking for
# the PIN to unlock my GPG key.  This dialog creation seems to fail when there is no shell
# or a non-interactive shell.
"pgrep -u $(id -u) -x mutt && screen -S fullscreen -X select mutt || { screen -S fullscreen -X defdynamictitle off && { screen -S fullscreen -X screen -t mutt bash -ic mutt; screen -S fullscreen -X defdynamictitle on; }; }"
   Mod4 + m

# Switch to or start Irssi.  This is basically like the Mutt keybinding but simpler
# because no shell is started.
"pgrep -u $(id -u) -x irssi && screen -S fullscreen -X select irssi || screen -S fullscreen -X screen irssi"
   Mod4 + i

# Switch to or start Neovim.
"pgrep -u $(id -u) -x nvim && screen -S fullscreen -X select nvim || screen -S fullscreen -X screen nvim -S"
   Mod4 + n

# vim: tw=90 sts=-1 sw=3 et ft=conf
